{% extends "base.html" %}{% load static %}

<!--  -->
{% block title %} Events {% endblock %}

<!--  -->
{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/event.css' %}" /> {% endblock %}

<!-- Main -->
{% block main %}
<div class="container">
  <div class="row">
    <div class="col-lg-12" id="name">
      { {{eve_type}} }
    </div>
  </div>
  <div id="ev" class="row">
    {% if events %} {% for event in events %}
    <div class="col-lg-4">
      <div id="news" class="news">
        <figure class="article">
          <!-- <a href="{{event.id}}"> -->
            <img src="{{event.logo.url}}" />
            <figcaption>
              <h3>{{event.name}}</h3>
              <br/>
              <p>{{event.date}}</p>
            </figcaption>
          <!-- </a> -->
        </figure>
      </div>
    </div>
    {% endfor %} {% else %}
    <div class="col-lg-12">
        <p id="empty" style="color:azure; font-size:40px; padding-left:45px">No {{eve_type}}</p>
    </div>
    {% endif %}
  </div>
</div>

<!-- modal section -->
<div class="bg-modal">
  <div class="modal-content">
    <div class="close">+</div>
    <img src="{{event.logo.url}}" />
    <p>Name : {{event.name}}</p>
    <p>Desc : {{event.description|safe}}</p>
    <p>Date : {{event.date}}</p>
    {% if event.feedback_link %}
    <p>Feedback : <a href="{{event.feedback_link}}"> {{event.feedback_link}}</a></p>
    {% endif %}
    <p>Images : <a href="{{event.photos_link}}"> {{event.photos_link}}</a></p>
    <p>Registration Date : {{event.registration_date}}</p>
    {% if event.can_register %}
    <p>Registration Link : <a href="{{event.registration_link}}">{{event.registration_link}}</a></p>
    {% endif %}
  </div>
</div>
{% endblock %}

<!--  -->
{% block javascript %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script>
  document.getElementById('ev').addEventListener('click',
  function(){
    document.querySelector('.bg-modal').style.display="flex";
  });
  document.querySelector('.close').addEventListener('click',
  function(){
    document.querySelector('.bg-modal').style.display="none";
  });
</script>
{% endblock %}
